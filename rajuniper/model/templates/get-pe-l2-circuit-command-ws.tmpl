<rpc>
    <get-config>
        <source><running/></source>
        <filter type="subtree">
            <configuration>
                <protocols>
                    <l2circuit>
                        {% if data['interface'] or data['description'] %}
                        <neighbor>
                            <interface>
                                {% if data['interface'] %}
                                <name>{{ data['interface'] }}</name>
                                {% endif %}

                                {% if data['description'] %}
                                <description>{{ data['description'] }}</description>
                                {% endif %}
                            </interface>
                        </neighbor>
                        {% endif %}

                        {% if data['interface'] or data['end-interface'] or data['description'] %}
                        <local-switching>
                            <interface>
                                {% if data['interface'] %}
                                <name>{{ data['interface'] }}</name>
                                {% endif %}

                                {% if data['end-interface'] %}
                                <end-interface>
                                    <interface>{{ data['end-interface'] }}</interface>
                                </end-interface>
                                {% endif %}

                                {% if data['description'] %}
                                <description>{{ data['description'] }}</description>
                                {% endif %}
                            </interface>
                        </local-switching>
                        {% endif %}
                    </l2circuit>
                </protocols>
            </configuration>
        </filter>
    </get-config>
</rpc>