{% macro get_interface_xml_config(data) %}
{% set data= data['extension']['interface'] %}
{% set interface_operation = "" if data["operation"] is not defined else "operation='"+data['operation']+"'"%}
{% set iface, unit = data['name'].split('.', 1) if '.' in data['name'] else (data['name'], None) %}
    <interfaces>
         <interface>
              <name>{{ data['name'] }}</name>
               <unit>
                  <name>{{ data['l3vpnVlan'] }}</name>
                  {% if data['description'] %}
                  <description>{{ data['description'] }}</description>
                  {% endif %}
                  {% if data['bandwidth'] %}
                  <bandwidth>{{ data['bandwidth'] }}</bandwidth>
                  {% endif %}
                  {% if data['vlan-id'] %}
                  <vlan-id>{{ data['vlan-id'] }}</vlan-id>
                  {% endif %}
                  <family>
                      <inet>
                          {% if data['address'] %}
                          <address>
                              <name>{{ data['address'] }}</name>
                          </address>
                          {% endif %}
                          <filter>
                              {% if data['inputServicePolicy'] %}
                              <input>
                                    <filter-name>{{ data['inputServicePolicy'] }}</filter-name>
                              </input>
                              {% endif %}
                              {% if data['outputServicePolicy'] %}
                              <output>
                                    <filter-name>{{ data['outputServicePolicy'] }}</filter-name>
                              </output>
                              {% endif %}
                          </filter>
                    </inet>
                  </family>
              </unit>
        </interface>
    </interfaces>
{% endmacro %}